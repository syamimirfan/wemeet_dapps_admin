<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="stylesheet" href="../css/index.css" />
    <link rel="icon" href="../assets/wemeet-logo(icon).png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <title>WEMEET | ADMIN</title>
</head>

<body>
    <section>
        <div class="container mt-5 pt-5">
            <div class="row">
                <div class="col-12 col-sm-8 col-md-6 m-auto">
                    <div class="card">
                        <div class="card-body border border-5">
                            <div class="text-center">
                                <img src="../assets/UTHM.png" class="pb-3" alt=""> <br>
                                <img src="../assets/admin.png" class="w-25 pb-3" alt="">
                            </div>
                            <form action="" id="login">
                                <div class="input-text">
                                    <span class="icon-lock"><i class="bi bi-lock-fill" aria-hidden="true"></i></span>

                                    <input type="password" id="password" class="w-75 my-3 py-3" placeholder="Password">
                                    <span class="reveal1" id="show" onclick="reveal()"><i class="bi bi-eye-fill" aria-hidden="true"></i></span>
                                    <span class="reveal2" id="hide" onclick="reveal()"><i class="bi bi-eye-slash-fill" aria-hidden="true"></i></span>
                                </div>

                                <div class="text-center mt-3">
                                    <button class="w-50 rounded-pill p-3 login-btn">
                                        Sign In
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="modal">
        <div class="modal-content">
            <div class="modal-body">
                <span class="icon"><i class="fas fa-exclamation-triangle"></i></span>
                <div class="right-items">
                    <h2>Password Required!</h2>
                    <p>Please enter password to login</p>
                    <button id="okBtn">Try Again</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-wrong">
        <div class="modal-wrong-content">
            <div class="modal-wrong-body">
                <span class="icon-wrong"><i class="fas fa-exclamation-triangle"></i></span>
                <div class="right-items-wrong">
                    <h2>Wrong Password!</h2>
                    <p>Please enter correct password</p>
                    <button id="okBtn-wrong">Try Again</button>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../scripts/Utils.js"></script>
    <script>
        let state = false;

        function reveal() {
            if (state) {
                document.getElementById("password").setAttribute("type", "password");
                document.getElementById("show").style.display = "block";
                document.getElementById("hide").style.display = "none";
                state = false;
            } else {
                document.getElementById("password").setAttribute("type", "text");
                document.getElementById("show").style.display = "none";
                document.getElementById("hide").style.display = "block";
                state = true;
            }
        }
    </script>
    <script>
        const password = document.getElementById("password");
        const buttonLogin = document.getElementById("login");
        const tryAgain = document.getElementById('okBtn');
        const tryAgainWrong = document.getElementById('okBtn-wrong');
        const modal = document.querySelector('.modal');
        const modalWrong = document.querySelector('.modal-wrong');

        buttonLogin.addEventListener('submit', (e) => {
            e.preventDefault();
            let adminPassword = password.value;
            let admin = new Admin(adminPassword);
            admin.login();
        });


        tryAgain.addEventListener('click', () => {
            modal.classList.remove('active');

        });

        tryAgainWrong.addEventListener('click', () => {

            modalWrong.classList.remove('active');

        });

        window.addEventListener('click', event => {

            if (event.target === modal || event.target == modalWrong) {
                modal.classList.remove('active')
                modalWrong.classList.remove('active')
            }

        })
    </script>
    <script src="../scripts/Admin.js"></script>
</body>

</html>